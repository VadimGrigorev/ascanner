1. Клиент находится в форме списка документов. Клиент делает запрос на сервер "дай документы".
  1.1. Сервер отдает ответ со списком документов. Каждый документ имеет |невидимый код X|, |видимое имя|, и возможно, |имя задания на отгрузку|, и |текст|, типа стасуса ("12/12 марок, закрыт").
  1.2. Если оператор производит сканирование на этом этапе, результат сканирования отдается на сервер, сервер отдает одну из двух команд:
       1.2.1. "Вывести на экран текст" (ошибка)
       1.2.2. Перейти в форму одного документа с кодом X
  1.3. Если оператор кликает на какой-то документ, клиент переходит в форму одного документа X.
2. Клиент находится в форме одного документа X. Клиент делает запрос на сервер "дай документ X".
  2.1. Сервер отдает ответ со списком позиций документа, для каждой позиции задаются свойства -- код позиции Z, наименование, количество, количество уже отсканировано, название партии позиции (как доп. информация)
  2.2. Если оператор производит сканирование на этом этапе, результат сканирования отдается на сервер "Документ X, марка=Y", сервер отдает одну из двух команд:
       2.2.1. "Вывести на экран текст" (ошибка)
       2.2.2. "Форма документа обновилась" -- сервер отдает ответ со списком позиций документа
  2.3. Если оператор кликает на кнопку "назад", он переходит в форму списка документов.
  2.4. Если оператор кликает на какую-то позицию документа, клиент переходит в форму одного позиции Z документа X.
3. Клиент находится в форме одной позиции Z документа Х. Клиент делает запрос на сервер "дай позицию Z документа X".
  3.1. Сервер отдает ответ со списком марок позиции. В нем есть код марки, коэффицэнт и доп. информация для вывода в виде таблицы.
  3.2. Если оператор производит сканирование на этом этапе, результат сканирования отдается на сервер "Документ X, позиция Z, марка=Y", сервер отдает одну из двух команд:
       3.2.1. "Вывести на экран текст" (ошибка)
       3.2.2. "Форма обновилась" -- сервер отдает ответ со списком марок позиции документа
  3.3. Если оператор кликает на кнопку "назад", он переходит в форму списка позиции документа X.
4. Также можно предусмотреть, чтобы начальным окном был не список документов, а dashboard с количесвом документов всего и уже закрытых.


Плюс в форме списка марок позиции, было бы неплохо предусмотреть удаление марки (команда удалить) и очистке марок (вы уверены? удалить все).